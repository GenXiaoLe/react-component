{"version":3,"sources":["tag/index.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","React","classNames","omit","polyfill","Icon","CheckableTag","ConfigConsumer","PresetColorTypes","warning","Wave","PresetColorRegex","RegExp","join","Tag","props","state","visible","handleIconClick","stopPropagation","setVisible","renderTag","configProps","_a","children","otherProps","isNeedWave","type","tagProps","getTagClassName","getTagStyle","renderCloseIcon","color","style","isPresetColor","backgroundColor","undefined","getPrefixCls","customizePrefixCls","prefixCls","className","onClose","afterClose","defaultPrevented","setState","test","closable","nextProps","Component","defaultProps"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport { polyfill } from 'react-lifecycles-compat';\nimport Icon from '../icon';\nimport CheckableTag from './CheckableTag';\nimport { ConfigConsumer } from '../config-provider';\nimport { PresetColorTypes } from '../_util/colors';\nimport warning from '../_util/warning';\nimport Wave from '../_util/wave';\nconst PresetColorRegex = new RegExp(`^(${PresetColorTypes.join('|')})(-inverse)?$`);\nclass Tag extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            visible: true,\n        };\n        this.handleIconClick = (e) => {\n            e.stopPropagation();\n            this.setVisible(false, e);\n        };\n        this.renderTag = (configProps) => {\n            const _a = this.props, { children } = _a, otherProps = __rest(_a, [\"children\"]);\n            const isNeedWave = 'onClick' in otherProps || (children && children.type === 'a');\n            const tagProps = omit(otherProps, [\n                'onClose',\n                'afterClose',\n                'color',\n                'visible',\n                'closable',\n                'prefixCls',\n            ]);\n            return isNeedWave ? (<Wave>\n        <span {...tagProps} className={this.getTagClassName(configProps)} style={this.getTagStyle()}>\n          {children}\n          {this.renderCloseIcon()}\n        </span>\n      </Wave>) : (<span {...tagProps} className={this.getTagClassName(configProps)} style={this.getTagStyle()}>\n        {children}\n        {this.renderCloseIcon()}\n      </span>);\n        };\n        warning(!('afterClose' in props), 'Tag', \"'afterClose' will be deprecated, please use 'onClose', we will remove this in the next version.\");\n    }\n    static getDerivedStateFromProps(nextProps) {\n        if ('visible' in nextProps) {\n            return {\n                visible: nextProps.visible,\n            };\n        }\n        return null;\n    }\n    getTagStyle() {\n        const { color, style } = this.props;\n        const isPresetColor = this.isPresetColor();\n        return Object.assign({ backgroundColor: color && !isPresetColor ? color : undefined }, style);\n    }\n    getTagClassName({ getPrefixCls }) {\n        const { prefixCls: customizePrefixCls, className, color } = this.props;\n        const { visible } = this.state;\n        const isPresetColor = this.isPresetColor();\n        const prefixCls = getPrefixCls('tag', customizePrefixCls);\n        return classNames(prefixCls, {\n            [`${prefixCls}-${color}`]: isPresetColor,\n            [`${prefixCls}-has-color`]: color && !isPresetColor,\n            [`${prefixCls}-hidden`]: !visible,\n        }, className);\n    }\n    setVisible(visible, e) {\n        const { onClose, afterClose } = this.props;\n        if (onClose) {\n            onClose(e);\n        }\n        if (afterClose && !onClose) {\n            // next version remove.\n            afterClose();\n        }\n        if (e.defaultPrevented) {\n            return;\n        }\n        if (!('visible' in this.props)) {\n            this.setState({ visible });\n        }\n    }\n    isPresetColor() {\n        const { color } = this.props;\n        if (!color) {\n            return false;\n        }\n        return PresetColorRegex.test(color);\n    }\n    renderCloseIcon() {\n        const { closable } = this.props;\n        return closable ? <Icon type=\"close\" onClick={this.handleIconClick}/> : null;\n    }\n    render() {\n        return <ConfigConsumer>{this.renderTag}</ConfigConsumer>;\n    }\n}\nTag.CheckableTag = CheckableTag;\nTag.defaultProps = {\n    closable: false,\n};\npolyfill(Tag);\nexport default Tag;\n"],"file":"index.js"}