{"ast":null,"code":"export function createStore(reduce) {\n  let currentState = undefined;\n  let currentListeners = []; // 获取state\n\n  function getState() {\n    return currentState;\n  } // 更新数据\n\n\n  function dispatch(action) {\n    currentState = reduce(currentState, action);\n    currentListeners.forEach(cb => {\n      cb();\n    });\n  } // 监听数据\n\n\n  function subscribe(listener) {\n    currentListeners.push(listener);\n  } // 获取初始值\n\n\n  dispatch('init');\n  return {\n    getState,\n    dispatch,\n    subscribe\n  };\n}","map":{"version":3,"sources":["/Users/hanyue/development/github/react-components/src/plugins/KRedux.js"],"names":["createStore","reduce","currentState","undefined","currentListeners","getState","dispatch","action","forEach","cb","subscribe","listener","push"],"mappings":"AAAA,OAAO,SAASA,WAAT,CAAqBC,MAArB,EAA6B;AAChC,MAAIC,YAAY,GAAGC,SAAnB;AACA,MAAIC,gBAAgB,GAAG,EAAvB,CAFgC,CAIhC;;AACA,WAASC,QAAT,GAAoB;AAChB,WAAOH,YAAP;AACH,GAP+B,CAShC;;;AACA,WAASI,QAAT,CAAkBC,MAAlB,EAA0B;AACtBL,IAAAA,YAAY,GAAGD,MAAM,CAACC,YAAD,EAAeK,MAAf,CAArB;AAEAH,IAAAA,gBAAgB,CAACI,OAAjB,CAAyBC,EAAE,IAAI;AAC3BA,MAAAA,EAAE;AACL,KAFD;AAGH,GAhB+B,CAkBhC;;;AACA,WAASC,SAAT,CAAmBC,QAAnB,EAA6B;AACzBP,IAAAA,gBAAgB,CAACQ,IAAjB,CAAsBD,QAAtB;AACH,GArB+B,CAuBhC;;;AACAL,EAAAA,QAAQ,CAAC,MAAD,CAAR;AAEA,SAAO;AACHD,IAAAA,QADG;AAEHC,IAAAA,QAFG;AAGHI,IAAAA;AAHG,GAAP;AAKH","sourcesContent":["export function createStore(reduce) {\n    let currentState = undefined;\n    let currentListeners = [];\n\n    // 获取state\n    function getState() {\n        return currentState;\n    }\n\n    // 更新数据\n    function dispatch(action) {\n        currentState = reduce(currentState, action);\n\n        currentListeners.forEach(cb => {\n            cb();\n        })\n    }\n\n    // 监听数据\n    function subscribe(listener) {\n        currentListeners.push(listener);\n    }\n\n    // 获取初始值\n    dispatch('init');\n\n    return {\n        getState,\n        dispatch,\n        subscribe\n    };\n}"]},"metadata":{},"sourceType":"module"}